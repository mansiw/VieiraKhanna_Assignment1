---
title: "Analysis of Alcohol Consumption across the World"
output: html_document
---
# About this exercise
This code contains analysis of data on consumption of alcohol across the world. 
(Source: World Health Organisation, Global Information System on Alcohol and Health (GISAH), 2010) 

```{r, include=T, message=F, warning=FALSE, error=FALSE, echo=FALSE}
#install.packages('rio')
library(rio)
setwd('/Users/tarunkhanna/Desktop/Collaborative Data Methods')
alc <- import('https://raw.githubusercontent.com/fivethirtyeight/data/master/alcohol-consumption/drinks.csv')
```

#Analysis

According to WHO, beer was the drink of choice in 2010.The average consumption (per person) of different forms of alcohol - beer, wine and spirits - was: 

```{r, include=T, message=F, warning=FALSE, error=FALSE, echo=FALSE}

library(dplyr)
for (i in 2:4) {
  alc[,i] %>%
  mean() %>%
  round(, digits = -2) %>%
  paste0(names(alc)[i],.,'\n') %>%
  cat()  
}

```

But the consumption of alcohol varies across countries. The histograms of beer, wine and spirit consumption show that in a large number of the countries the consumption of is much lower than the average. 

```{r, include=T, message=F, warning=FALSE, error=FALSE, echo=FALSE}

hist(alc$beer_servings, xlab = 'Consuption per person', ylab = 'No. of countries', main = 'Consumption Pattern of Beer')
hist(alc$wine_servings, xlab = 'Consuption per person', ylab = 'No. of countries', main = 'Consumption Pattern of Wine')
hist(alc$spirit_servings, xlab = 'Consuption per person', ylab = 'No. of countries', main = 'Consumption Pattern of Spirits')
s1 <- summary(alc$beer_servings)

```

For example, a closer look at the data reveals that the while the average beer consumption across all countries in 2010 was `r s1[4]`, it varied from `r s1[1]` to a maximum of `r s1[6]`. In most countries the consumption per person was only `r s1[3]`. 

### __Top 10 countries by consumption__  
```{r, include=T, message=F, warning=FALSE, error=FALSE, echo=FALSE}
Top10_Beer <- alc[order(alc$beer_servings),]%>% top_n(n=10) %>% .[,1]
Top10_Wine <- alc[order(alc$wine_servings),]%>% top_n(n=10) %>% .[,1]
Top10_Spirits <- alc[order(alc$spirit_servings),]%>% top_n(n=10) %>% .[,1]
l <- cbind(Top10_Spirits,Top10_Beer,Top10_Wine)
l
```


Further, the top 10 beer consuming countries same to be the same as top 10 consumers of wine and other spirits though the ranking differs with the choice of drink. While `r l[1,3]` has the highest consumption of  Wine, `r l[1,1]` has the highest consumption of Spirits.   